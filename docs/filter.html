<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Input Filtering - Express Form for Expressjs</title>
  <base href="http://dandean.github.com/express-form/index.html">
  <link rel="shortcut icon" href="./img/favicon.ico" />
  <link rel="stylesheet" href="./css/main.css" type="text/css" media="screen" charset="utf-8">
  <link rel="stylesheet" href="./css/pygments/native.css" type="text/css" media="screen" charset="utf-8">
</head>

<body>
  <a href="http://github.com/dandean/express-form"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./img/forkme.png" alt="Fork me on GitHub" /></a>

  <div id="container">
    <h1>Input Filtering</h1>
    <nav>
      <ul>
        <li><a href="./">Home</a></li>
        <li><a href="./docs">The Basics</a></li>
        <li><a href="./docs/module.html">Express Form Module</a></li>
        <li><a href="./docs/validate.html">Validation</a></li>
        <li><a href="./docs/filter.html">Filtering</a></li>
      </ul>
    </nav>
    <div class="doc">
  <div class="article">
    <p><code>filter(fieldname) -&gt; Filter</code></p>

    <ul>
      <li><code>fieldname</code> (<code>String</code>): The name of the field to act on.</li>
    </ul>

    <p>The <code>filter</code> property of the module creates a filter object tied to a specific field.</p>

    <p>The API is chainable, so you can keep calling filter methods one after the other.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">).</span><span class="nx">trim</span><span class="p">().</span><span class="nx">toLower</span><span class="p">().</span><span class="nx">truncate</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre>
</div>

  </div>

  <h2 id="filter-methods">Filter Methods</h2>

  <h3 id="type-coercion">Type Coercion</h3>

  <div class="article">
    <p><code>toFloat() -&gt; Number</code></p>

    <p>Converts a numeric string into a <code>Number</code>, decimals are preserved.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">).</span><span class="nx">toFloat</span><span class="p">();</span>
<span class="c1">// &quot;3.1415926535&quot; --&gt; 3.1415926535</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>toInt() -&gt; Number</code></p>

    <p>The result will be an integer, rounded down if necessary.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">).</span><span class="nx">toInt</span><span class="p">();</span>
<span class="c1">// &quot;3.1415926535&quot; --&gt; 3</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>toBoolean() -&gt; Boolean</code></p>

    <p>Converts any value to either <code>true</code> or <code>false</code>.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;whatever&quot;</span><span class="p">).</span><span class="nx">toBoolean</span><span class="p">();</span>
<span class="c1">// undefined --&gt; false</span>
<span class="c1">// &quot;50&quot; --&gt; true</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>toBooleanStrict() -&gt; Boolean</code></p>

    <p>Only true, &ldquo;true&rdquo;, 1 and &ldquo;1&rdquo; are <code>true</code></p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;whatever&quot;</span><span class="p">).</span><span class="nx">toBooleanStrict</span><span class="p">();</span>
<span class="c1">// undefined --&gt; false</span>
<span class="c1">// &quot;50&quot; --&gt; false</span>
</code></pre>
</div>

  </div>

  <div class="article">
    <p><code>ifNull(replacement) -&gt; Boolean</code></p>

    <ul>
      <li><code>replacement</code> (<code>?</code>): The object to be used if the field has no value.</li>
    </ul>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">).</span><span class="nx">ifNull</span><span class="p">(</span><span class="s2">&quot;John Doe&quot;</span><span class="p">);</span>
<span class="c1">// &quot;&quot; --&gt; &quot;John Doe&quot;</span>
</code></pre>
</div>

  </div>

  <h3 id="html-encoding">HTML Encoding</h3>

  <div class="article">
    <p><code>entityEncode() -&gt; String</code></p>

    <p>Encodes HTML entities.</p>
  </div>

  <div class="article">
    <p><code>entityDecode() -&gt; String</code></p>

    <p>Decodes HTML entities.</p>
  </div>

  <h3 id="string-transformations">String Transformations</h3>

  <div class="article">
    <p><code>trim([chars=\w]) -&gt; String</code></p>

    <ul>
      <li><code>chars</code> (<code>String</code>): The characters that qualify for trimming. Default is whitespace.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>ltrim([chars=\w]) -&gt; String</code></p>

    <ul>
      <li><code>chars</code> (<code>String</code>): The characters that qualify for trimming. Default is whitespace.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>rtrim([chars=\w]) -&gt; String</code></p>

    <ul>
      <li><code>chars</code> (<code>String</code>): The characters that qualify for trimming. Default is whitespace.</li>
    </ul>
  </div>

  <div class="article">
    <p><code>toLower()</code></p>

    <p>alias: <code>toLowercase()</code></p>
  </div>

  <div class="article">
    <p><code>toUpper()</code></p>

    <p>alias: <code>toUppercase()</code></p>
  </div>

  <div class="article">
    <p><code>truncate(length)</code></p>

    <ul>
      <li><code>length</code> (<code>Number</code>): The length to truncate the value to.</li>
    </ul>

    <p>Chops value at (length - 3) and appends &ldquo;&hellip;&rdquo;</p>
  </div>

  <h3 id="custom-filters">Custom Filters</h3>

  <div class="article">
    <p><code>custom(function)</code></p>

    <ul>
      <li><code>function</code> (<code>Function</code>): A custom validation function.</li>
    </ul>

    <p>Filters the field value using custom logic.</p>

    <div class="highlight"><pre><code class="javascript"><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">).</span><span class="nx">custom</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+/g</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// &quot;Dan Dean&quot; --&gt; &quot;dan-dean&quot;</span>
</code></pre>
</div>

  </div>
</div>

  </div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-21657174-1");
pageTracker._trackPageview();
} catch(err) {}

Array.prototype.slice.call(document.querySelectorAll("span.nx")).forEach(function(el) {
  var text = el.textContent;
  if (text.match(/^form|validate|filter$/)) {
    el.className = "vc";
  } else if (text.match(/^is|not|reg|noRegex|required|trim|isEmail$/)) {
    el.className = "bp";
  }
});
</script>
</body>
</html>
